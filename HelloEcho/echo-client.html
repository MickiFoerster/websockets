<html>
  <body>
    <h1>Welcome to my Websockets Example</h1>
  <script>
    var ws = new WebSocket('ws://localhost:12345/echo')

    ws.onopen = function() {
      console.log('onopen: websocket connection established')
      ws.send('A');
      console.log('onopen: message sent');
    };

    ws.onmessage = function(message) {
      console.log('onmessage: server: ' + message.data);
      if ( message.data == 'A' ) {
        ws.send('B');
      }
      ws.send('C');
      return false;
    };

    ws.onclose = function(event) {
      console.log('onclose: websocket closed')
    };

    ws.onerror = function(event) {
      console.log('onerror: websocket error: ' + event.reason + '(' + event.code + ')');
    };
  </script>
  </body>
</html>
