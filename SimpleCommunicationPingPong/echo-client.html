<html>
  <body>
    <h1>Welcome to my Websockets Example</h1>
  <script>
    var ws = new WebSocket('ws://localhost:12345/echo')

    ws.onopen = function() {
      console.log('onopen: websocket connection established')
      ws.send('A');
      console.log('onopen: message sent');
    };

    ws.onmessage = function(message) {
      console.log('onmessage: server: ' + message.data);
      ws.send(message.data + message.data);
    };

    ws.onclose = function(event) {
      console.log('onclose: websocket closed')
      if (!event.wasClean) {
        console.log('onclose: WS error code: ' + event.code);
        console.log('onclose: WS reason: ' + event.reason);
      }
    };

    ws.onerror = function(event) {
      console.log('onerror: websocket error: ' + event.reason + '(' + event.code + ')');
    };
  </script>
  </body>
</html>
